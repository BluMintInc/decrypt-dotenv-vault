# Decrypt Dotenv Vault Action

This GitHub Action decrypts a `.env.vault` file using the `dotenv-vault` package and generates a `.env` file with the decrypted contents. It is useful for securely storing and using environment variables in your GitHub Actions workflows.

## Inputs

- `dotenv-key` (required): The encryption key used by `dotenv-vault` to decrypt the `.env.vault` file. This is usually generated by the `npx dotenv-vault@latest keys ci` command.
- `env-file` (optional): The name of the environment file to generate. Default is `'.env.ci'`.
In addition to the above, this action accepts all of the inputs from [actions/setup-node](https://github.com/actions/setup-node)@v4.0.2.

## Usage

To use this action in your workflow, add the following step:

```yaml
steps:
  - name: Decrypt .env.vault
    uses: BluMintInc/decrypt-dotenv-vault@v1
    with:
      dotenv-key: ${{ secrets.DOTENV_KEY }}
```

You need to add the `DOTENV_KEY` secret in your repository settings. This key should match the one used to encrypt the `.env.vault` file.

After running this action, the decrypted environment variables will be available in the `env-file` (default: `.env.ci`). You can then use these variables in your subsequent workflow steps.

## Example Workflow

Here's an example workflow that uses this action:

```yaml
name: Decrypt and Use Environment Variables

on:
  push:
    branches: [main]

jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Decrypt .env.vault
        uses: BluMintInc/decrypt-dotenv-vault@v1
        with:
          dotenv-key: ${{ secrets.DOTENV_KEY }}

      - name: Use Environment Variables
        run: |
          echo "API_KEY: ${{ env.API_KEY }}"
          echo "DATABASE_URL: ${{ env.DATABASE_URL }}"
```

In this example, the action decrypts the `.env.vault` file using the `DOTENV_KEY` secret. The decrypted environment variables (`API_KEY` and `DATABASE_URL`) are then accessible in the subsequent `Use Environment Variables` step.

## License

This scripts and documentation in this project are released under the [MIT License](LICENSE).
